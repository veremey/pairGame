{"version":3,"sources":["markup/components/card/card.js","markup/components/field/field.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjKA;AACA","file":"main.js","sourcesContent":["var myCards = document.getElementById('field');\nvar error = document.getElementById('error');\n\nvar resultsArray = [];\nvar counter = 0;\n\nvar Interval ;\nvar images = [];\n\nvar data = {\n  'Cristal' : {\n    'title': 'Олег Кристал.',\n    'desc' : 'Бывший журналист, советник лидера ДПМ Олег Кристал. Владеет телеканалами Canal 2 и Canal 3, которые раньше принадлежали Плахотнюку.'\n  },\n  'FurculitaCorneliu': {\n    'title' : ' Корнелиу Фуркулица. ',\n    'desc' : ' Депутат, член исполкома Партии социалистов Корнелиу Фуркулица. Ему принадлежат телеканалы NTV Moldova и ТНТ-Exclusive TV. '\n  },\n  'morari': {\n    'title' : ' Наталья Морарь. ',\n    'desc' : ' Телеведущая, председатель НПО Media Alternativa Наталья Морарь. Это НПО — учредитель телеканала TV8. В админсовет Media Alternativa также входят журналисты Мариана Раца, Кристина Гуцу, политолог Игорь Боцан. В ближайшее время в него должны войти юрист Ион Гузун и правозащитница Мариана Калугин. '\n  },\n  'plaha2': {\n    'title' : ' Владимир Плахотнюк. ',\n    'desc' : ' Лидер правящей Демпартии Владимир Плахотнюк. Ему принадлежат телеканалы Publika TV и Prime. '\n  },\n  'sirbu2': {\n    'title' : ' Александр Сырбу ',\n    'desc' : ' Бизнесмен, бывший владелец кабельного оператора Sun Communications Александр Сырбу. Владеет 80% телеканала N4. Еще по 10% принадлежат его сыну Евгению Сырбу и Андрею Боршевичу. '\n  },\n  'Vadim-Ciubara': {\n    'title' : ' Вадим Чубара. ',\n    'desc' : ' Бизнесмен Вадим Чубара. Владеет телеканалом Accent TV. Издание Rise Moldova называло его «теневым» советником президента Игоря Додона. '\n  },\n  'VGTRK': {\n    'title' : ' RTR-Moldova ',\n    'desc' : ' У RTR-Moldova несколько владельцев: некоммерческое партнерство «РОСМЕДИАКОМ» (50%), один из учредителей которого ВГТРК, а также молдавская бизнес-леди Валентина Стецко (25%) и компании SB Grup Media (25%). Владельцы последней Галина Сырбу (80%) и Оксана Боршевич (20%).'\n  },\n  'victor-topa': {\n    'title' : ' Виктор Цопа.',\n    'desc' : 'Бизнесмен Виктор Цопа. Владелец Jurnal TV. Заочно приговорен в Молдове к 10 годам лишения свободы. Сейчас живет в Германии.'\n  }\n};\n\n\n// берем ключ объекта и ставим его в самый конец масива images\nfor(key in data) {;\n  images.push(key);\n}\n\nvar clone = images.slice(0); // duplicate array\nvar cards = images.concat(clone); // merge to arrays\n\n// Shufffel function\nfunction shuffle(o){\n  for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i],   o[i] = o[j], o[j] = x);\n  return o;\n}\nshuffle(cards);\n\nfor (var i = 0; i < cards.length; i++) {\n\tvar cardContent = '<div class=\"card__item\"><div class=\"front\"></div><div class=\"back\"><img src=\"../static/img/content/'+cards[i]+'.jpg\"> </></div></div>';\n  card = document.createElement('div');\n  card.dataset.item = cards[i];\n  card.dataset.view = \"card\";\n  card.classList.add(\"card\");\n  card.innerHTML = cardContent;\n  myCards.appendChild(card);\n\n  card.onclick = function (e) {\n\n    if (this.className != 'card flipped' && this.className != 'card correct'){\n        this.className = 'card flipped';\n        var result = this.dataset.item;\n        resultsArray.push(result);\n        clearInterval(dontClick);\n    }\n\n    if (resultsArray.length > 1) {\n    \tvar cards = document.getElementsByClassName('card');\n    \tfor (var i = cards.length - 1; i >= 0; i--) {\n    \t\tcards[i].classList.add('dontClick');\n    \t}\n    \tvar dontClick =  setTimeout( function () {\n    \t\tfor (var i = cards.length - 1; i >= 0; i--) {\n    \t\t\tcards[i].classList.remove('dontClick');\n    \t\t}\n    \t}, 600);\n\n\n      if (resultsArray[0] === resultsArray[1]) {\n        check(\"card correct\");\n        show(resultsArray[0]);\n\n        win();\n        resultsArray = [];\n      } else {\n        check(\"card reverse\");\n        resultsArray = [];\n        var count = ++counter ;\n        var clicks = document.getElementById('counter');\n        // clicks.innerHTML = count;\n      }\n\n    }\n\n  }\n\n};\n\n\nvar check = function(className) {\n  var x = document.getElementsByClassName(\"flipped\");\n\n  setTimeout(function() {\n    for(var i = (x.length - 1); i >= 0; i--) {\n      x[i].className = className;\n    }\n  },500);\n\n}\n\nvar show = function(dataItem) {\n\tvar card;\n\tvar profile = document.getElementById('profile');\n\n\tvar cardContent = '<div class=\"profile__pic\"><img class=\"profile__img\"  src=\"../static/img/content/'+dataItem+'.jpg\" > </></div><div class=\"profile__info\"><h3 class=\"profile__title\">'+ data[dataItem].title +'</h3><p class=\"profile__desc\"> '+ data[dataItem].desc +'  </p></div><div class=\"center\"><button class=\"btn js-close\">ДАЛЕЕ</button></div>';\n\n\tcard = document.createElement('div');\n  card.classList.add('profile');\n\tcard.innerHTML = cardContent;\n\tprofile.appendChild(card);\n\tprofile.classList.add(\"active\");\n\n\tvar closeBtn = document.querySelector('.js-close');\n\n\tcloseBtn.onclick = function () {\n\t\tprofile.innerHTML = '';\n\t\tprofile.classList.remove('active');\n    win();\n\t}\n\n}\n\nvar winText = '<div class=\"win\"><div class=\"win__wrap\"><h3 class=\"win__title\">Поздравляем!</h3><p class=\"win__desc\"> Теперь вы знаете всех основных владельцев молдавских телеканалов.Ну или почти всех. Например, телеканалом Pro TV владеет офшорная компания CME Media Enterprises, 75% которой принадлежит американскому медиаконгломерату AT&amp;T, а остальные акции находятся на бирже и их владельцы могут постоянно меняться.</p><p class=\"win__desc\">Ну, и, наверное, все знают, что телеканалы Moldova 1 и Moldova 2 — общественные и финансируются из денег налогоплательщиков.</p></div></div>'\n\n\nvar win = function () {\n  var field = document.getElementById('field');\n  var layout = document.getElementById('layout');\n\n  var allCards = document.getElementsByClassName('card').length;\n  var allReversedCards = document.getElementsByClassName('correct').length;\n\n  if(allCards === allReversedCards) {\n    clearInterval(Interval);\n    layout.innerHTML = winText;\n\n  }\n\n}\n","\n"]}